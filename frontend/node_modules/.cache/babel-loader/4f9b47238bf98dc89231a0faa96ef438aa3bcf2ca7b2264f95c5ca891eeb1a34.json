{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home-principale\"\n};\nconst _hoisted_2 = {\n  class: \"container mt-3\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_5 = {\n  id: \"carouselExampleIndicators\",\n  class: \"carousel slide mt-4\",\n  \"data-bs-ride\": \"carousel\"\n};\nconst _hoisted_6 = {\n  class: \"carousel-inner\"\n};\nconst _hoisted_7 = {\n  class: \"carousel-item active\"\n};\nconst _hoisted_8 = {\n  class: \"d-block w-100 text-center p-4\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  key: 1\n};\nconst _hoisted_11 = {\n  class: \"carousel-item\"\n};\nconst _hoisted_12 = {\n  class: \"d-block w-100 text-center p-4\"\n};\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" <NavigationBar /> \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"col-md-6 d-flex justify-content-center align-items-center\"\n  }, [_createElementVNode(\"img\", {\n    class: \"img-fluid mt-3\",\n    src: \"https://images.hdqwalls.com/wallpapers/abstract-shapes-4k-q2.jpg\",\n    alt: \"Immagine Home\",\n    style: {\n      \"max-width\": \"80%\",\n      \"height\": \"auto\"\n    }\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"carousel-indicators\"\n  }, [_createElementVNode(\"button\", {\n    type: \"button\",\n    \"data-bs-target\": \"#carouselExampleIndicators\",\n    \"data-bs-slide-to\": \"0\",\n    class: \"active\",\n    \"aria-current\": \"true\",\n    \"aria-label\": \"Slide 1\"\n  }), _createElementVNode(\"button\", {\n    type: \"button\",\n    \"data-bs-target\": \"#carouselExampleIndicators\",\n    \"data-bs-slide-to\": \"1\",\n    \"aria-label\": \"Slide 2\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", null, \"Ultimo Evento\", -1 /* HOISTED */)), $data.noEventsMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($data.noEventsMessage), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_10, [_cache[0] || (_cache[0] = _createElementVNode(\"strong\", null, \"Titolo:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastEventTitle), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"Descrizione:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastEventDescription), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Data:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastEventDate), 1 /* TEXT */)]))])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", null, \"Ultima Attività\", -1 /* HOISTED */)), $data.noActivitiesMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString($data.noActivitiesMessage), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_14, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Titolo:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastActivityTitle), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"Descrizione:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastActivityDescription), 1 /* TEXT */), _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Scadenza:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.lastActivityDeadline), 1 /* TEXT */)]))])])]), _cache[13] || (_cache[13] = _createStaticVNode(\"<button class=\\\"carousel-control-prev\\\" type=\\\"button\\\" data-bs-target=\\\"#carouselExampleIndicators\\\" data-bs-slide=\\\"prev\\\" data-v-9ac63c20><span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\" data-v-9ac63c20></span><span class=\\\"visually-hidden\\\" data-v-9ac63c20>Previous</span></button><button class=\\\"carousel-control-next\\\" type=\\\"button\\\" data-bs-target=\\\"#carouselExampleIndicators\\\" data-bs-slide=\\\"next\\\" data-v-9ac63c20><span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\" data-v-9ac63c20></span><span class=\\\"visually-hidden\\\" data-v-9ac63c20>Next</span></button>\", 2))])])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","id","key","_createElementBlock","_Fragment","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","src","alt","style","_hoisted_4","_hoisted_5","type","_hoisted_6","_hoisted_7","_hoisted_8","$data","noEventsMessage","_hoisted_9","_toDisplayString","_hoisted_10","_createTextVNode","lastEventTitle","lastEventDescription","lastEventDate","_hoisted_11","_hoisted_12","noActivitiesMessage","_hoisted_13","_hoisted_14","lastActivityTitle","lastActivityDescription","lastActivityDeadline","_createStaticVNode"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/views/HomePrincipale.vue"],"sourcesContent":["<template>\n  <!-- <NavigationBar /> -->\n  <div class=\"home-principale\">\n\n    <div class=\"container mt-3\">\n      <div class=\"row\">\n        <div class=\"col-md-6 d-flex justify-content-center align-items-center\">\n          <img class=\"img-fluid mt-3\" src=\"https://images.hdqwalls.com/wallpapers/abstract-shapes-4k-q2.jpg\"\n            alt=\"Immagine Home\" style=\"max-width: 80%; height: auto;\">\n        </div>\n\n        <div class=\"col-md-6\">\n          <div id=\"carouselExampleIndicators\" class=\"carousel slide mt-4\" data-bs-ride=\"carousel\">\n            <div class=\"carousel-indicators\">\n              <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"0\" class=\"active\"\n                aria-current=\"true\" aria-label=\"Slide 1\"></button>\n              <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"1\"\n                aria-label=\"Slide 2\"></button>\n            </div>\n            <div class=\"carousel-inner\">\n              <div class=\"carousel-item active\">\n                <div class=\"d-block w-100 text-center p-4\">\n                  <h2>Ultimo Evento</h2>\n                  <p v-if=\"noEventsMessage\">{{ noEventsMessage }}</p>\n                  <p v-else>\n                    <strong>Titolo:</strong> {{ lastEventTitle }}<br>\n                    <strong>Descrizione:</strong> {{ lastEventDescription }}<br>\n                    <strong>Data:</strong> {{ lastEventDate }}\n                  </p>\n                </div>\n              </div>\n\n              <div class=\"carousel-item\">\n                <div class=\"d-block w-100 text-center p-4\">\n                  <h2>Ultima Attività</h2>\n                  <p v-if=\"noActivitiesMessage\">{{ noActivitiesMessage }}</p>\n                  <p v-else>\n                    <strong>Titolo:</strong> {{ lastActivityTitle }}<br>\n                    <strong>Descrizione:</strong> {{ lastActivityDescription }}<br>\n                    <strong>Scadenza:</strong> {{ lastActivityDeadline }}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\"\n              data-bs-slide=\"prev\">\n              <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n              <span class=\"visually-hidden\">Previous</span>\n            </button>\n            <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\"\n              data-bs-slide=\"next\">\n              <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n              <span class=\"visually-hidden\">Next</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n/* import NavigationBar from '../components/NavigationBar.vue';\n */\nimport axios from 'axios';\n\nexport default {\n  name: 'HomePrincipale',\n  /* components: {\n    NavigationBar,\n  }, */\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest',\n      lastEventTitle: '',\n      lastEventDescription: '',\n      lastEventDate: '',\n      lastActivityTitle: '',\n      lastActivityDescription: '',\n      lastActivityDeadline: '',\n      noEventsMessage: '',\n      noActivitiesMessage: ''\n    };\n  },\n  mounted() {\n    this.getLastEvent();\n    this.getLastActivity();\n  },\n  methods: {\n    async getLastEvent() {\n      try {\n        const token = sessionStorage.getItem('token');\n        console.log(\"token home \", token);\n        const response = await axios.get('/api/events/last', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          params: { author: this.username }\n        });\n        if (response.data) {\n          this.lastEventTitle = response.data.title || 'Nessun evento';\n          this.lastEventDescription = response.data.description || 'Nessuna descrizione';\n          this.lastEventDate = response.data.date || 'Nessuna data';\n        } else {\n          this.noEventsMessage = 'Nessun evento trovato.';\n        }\n      } catch (error) {\n        console.error('Errore nel recupero dell\\'ultimo evento:', error);\n        this.noEventsMessage = 'Errore nel caricamento dell\\'ultimo evento.';\n      }\n    },\n\n    logout() {\n      localStorage.clear();\n      this.$router.push('/');\n    },\n\n\n    async getLastActivity() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const username = localStorage.getItem('username');\n        const response = await axios.get('/api/activities/last', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          params: { username: username }\n        });\n\n        if (response.data) {\n          this.lastActivityTitle = response.data.title;\n          this.lastActivityDescription = response.data.description;\n          this.lastActivityDeadline = new Date(response.data.deadline).toLocaleDateString();\n          this.noActivitiesMessage = '';\n        } else {\n          this.noActivitiesMessage = 'Non ci sono attività imminenti';\n        }\n\n      } catch (error) {\n        console.error('Errore nel recupero delle attività:', error);\n      }\n    }\n  }\n\n};\n</script>\n\n<style scoped>\nbody {\n  background: linear-gradient(to bottom, #0000ff, #ffffff);\n  margin: 0;\n}\n\n.home-principale {\n  text-align: center;\n}\n\n.carousel-item {\n  background-color: #f0f0f0;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  background-color: #000;\n  border-radius: 50%;\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}