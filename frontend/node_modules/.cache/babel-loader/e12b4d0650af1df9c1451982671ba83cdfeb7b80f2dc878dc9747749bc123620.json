{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport moment from 'moment-timezone';\nexport default {\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest',\n      showNotifications: false,\n      notifications: [],\n      timeMachineDate: '',\n      timeMachineTime: '',\n      selectedDate: '',\n      selectedTime: ''\n    };\n  },\n  computed: {\n    currentPage() {\n      const routeNameMap = {\n        '/': 'Login',\n        '/homePrincipale': 'Home',\n        '/pomodoroTempo': 'Pomodoro',\n        '/todo': 'Lista Note',\n        '/calendarEvent': 'Calendario',\n        '/addEvent': 'Aggiungi Evento',\n        '/eventsE': 'Lista Eventi',\n        '/addActivities': 'Aggiungi Attività',\n        '/activities': 'Lista Attività',\n        '/pomSession': 'Sessioni Pomodoro',\n        '/accountUtente': 'Gestisci il tuo Account'\n      };\n      return routeNameMap[this.$route.path] || '';\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async resetTimeMachine() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const response = await axios.post('/api/time-machine/reset', {}, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.selectedDate = '';\n        this.selectedTime = '';\n        alert('Time Machine resettata alla data di sistema!');\n        console.log(response.data);\n        this.fetchData();\n      } catch (error) {\n        console.error('Errore nel reset della Time Machine:', error);\n        alert('Si è verificato un errore durante il reset della Time Machine');\n      }\n    },\n    async fetchData() {\n      try {\n        const response = await axios.get('/api/getTime-machine');\n        console.log(\"get time machine\", response.data);\n        const localDate = moment(response.data.date).tz('Europe/Rome', true).format();\n        console.log(\"Data convertita nel fuso orario locale:\", localDate);\n      } catch (error) {\n        console.error('Errore nella richiesta GET:', error);\n      }\n    },\n    async activateTimeMachine() {\n      if (!this.selectedDate || !this.selectedTime) {\n        alert('Per favore seleziona una data e un\\'ora!');\n        return;\n      }\n      const timeMachineData = {\n        date: moment(`${this.selectedDate}T${this.selectedTime}:00`).tz('Europe/Rome').format()\n      };\n      try {\n        const token = sessionStorage.getItem('token');\n        const response = await axios.post('/api/updateTime-machine', timeMachineData, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        alert('Time Machine attivata con successo!');\n        console.log(response.data);\n        this.fetchData();\n      } catch (error) {\n        console.error('Errore nell\\'attivazione della Time Machine:', error);\n        alert('Si è verificato un errore durante l\\'attivazione della Time Machine');\n      }\n    },\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('username');\n      localStorage.clear();\n      sessionStorage.clear();\n      this.$router.push('/');\n    }\n  }\n};","map":{"version":3,"names":["axios","moment","data","username","localStorage","getItem","showNotifications","notifications","timeMachineDate","timeMachineTime","selectedDate","selectedTime","computed","currentPage","routeNameMap","$route","path","mounted","fetchData","methods","resetTimeMachine","token","sessionStorage","response","post","headers","Authorization","alert","console","log","error","get","localDate","date","tz","format","activateTimeMachine","timeMachineData","logout","removeItem","clear","$router","push"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/components/NavigationBar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar bg-body-tertiary\">\n    <div class=\"container-fluid\">\n      <div class=\"d-flex align-items-center\">\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\"\n          aria-controls=\"offcanvasNavbar\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        \n      </div>\n\n        \n\n      <div class=\"d-flex ms-auto align-items-center\">\n        <a class=\"navbar-brand me-4\" href=\"/homePrincipale\">\n            <i class=\"fas fa-home\"></i>\n        </a>\n\n        <a class=\"me-4\" href=\"/accountUtente\">\n            <i class=\"fas fa-user\" style=\"color: black;\"></i>\n            <span class=\"username-initials\">{{ username }}</span>\n        </a>\n\n       \n\n        \n\n      </div>\n\n\n\n      <div class=\"d-flex ms-auto align-items-center time-machine-form\">\n  <input type=\"date\" v-model=\"selectedDate\" class=\"form-control form-control-sm me-2\" />\n  <input type=\"time\" v-model=\"selectedTime\" class=\"form-control form-control-sm me-2\" />\n  <button @click=\"activateTimeMachine\" class=\"btn btn-sm btn-primary\">cambia orario</button>\n  <button @click=\"resetTimeMachine\" class=\"btn-sm btn-primary\">reset time machine</button>\n</div>\n\n\n\n      <div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasNavbar\" aria-labelledby=\"offcanvasNavbarLabel\">\n        <div class=\"offcanvas-header\">\n          <h5 class=\"offcanvas-title\" id=\"offcanvasNavbarLabel\">Menu</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"offcanvas-body\">\n          <ul class=\"navbar-nav me-auto\">\n            <span class=\"nav-item username-text\">\n              Benvenuto, {{ username }}!\n            </span>\n            <li class=\"nav-item\"><a class=\"nav-link\" href=\"/todo\">Note</a></li>\n\n            <li class=\"nav-item dropdown\">\n              <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"eventDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                Eventi\n              </a>\n              <ul class=\"dropdown-menu\" aria-labelledby=\"eventDropdown\">\n                <li><a class=\"dropdown-item\" href=\"/addEvent\">Aggiungi evento</a></li>\n              </ul>\n            </li>\n  \n            <li class=\"nav-item dropdown\">\n              <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"activityDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                Attività\n              </a>\n              <ul class=\"dropdown-menu\" aria-labelledby=\"activityDropdown\">\n                <li><a class=\"dropdown-item\" href=\"/addActivities\">Aggiungi attività</a></li>\n              </ul>\n            </li>\n  \n            <li class=\"nav-item\"><a class=\"nav-link\" href=\"/calendarEvent\">Calendario</a></li>\n            <li class=\"nav-item\"><a class=\"nav-link\" href=\"/pomodoroTempo\">Pomodoro</a></li>\n            <!-- <li class=\"nav-item\"><a class=\"nav-link\" href=\"/accountUtente\">Gestisci il tuo Account</a></li> --> \n          </ul>\n          <button type=\"button\" class=\"btn btn-dark mt-3\" @click=\"logout\">Logout</button>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n  \n<script>\n\nimport axios from 'axios';\nimport moment from 'moment-timezone';\n\n\n  export default {\n    data() {\n      return {\n        username: localStorage.getItem('username') || 'Guest',\n        showNotifications: false,\n        notifications: [] ,\n        timeMachineDate: '',  \n        timeMachineTime: ''  ,\n        selectedDate: '', \n        selectedTime: ''\n      };\n    }, \n    computed:{\n      currentPage() {\n        const routeNameMap = {\n          '/': 'Login', \n          '/homePrincipale': 'Home',\n          '/pomodoroTempo': 'Pomodoro',\n          '/todo': 'Lista Note',\n          '/calendarEvent': 'Calendario',\n          '/addEvent': 'Aggiungi Evento',\n          '/eventsE': 'Lista Eventi',\n          '/addActivities': 'Aggiungi Attività',\n          '/activities': 'Lista Attività',\n          '/pomSession': 'Sessioni Pomodoro',\n          '/accountUtente': 'Gestisci il tuo Account',\n        };\n        return routeNameMap[this.$route.path] || ''; \n      },\n     \n    },\n\n    mounted() {\n  this.fetchData();  \n},\n\n\n    methods:{\n\n\n      async resetTimeMachine() {\n    try {\n        const token = sessionStorage.getItem('token'); \n        const response = await axios.post('/api/time-machine/reset', {}, {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n\n        this.selectedDate = ''; \n        this.selectedTime = ''; \n\n        alert('Time Machine resettata alla data di sistema!');\n        console.log(response.data);\n        this.fetchData(); \n    } catch (error) {\n        console.error('Errore nel reset della Time Machine:', error);\n        alert('Si è verificato un errore durante il reset della Time Machine');\n    }\n},\n\n\n\n      async fetchData() {\n    try {\n        const response = await axios.get('/api/getTime-machine'); \n        console.log(\"get time machine\", response.data);\n\n        const localDate = moment(response.data.date).tz('Europe/Rome', true).format();\n        console.log(\"Data convertita nel fuso orario locale:\", localDate);\n    } catch (error) {\n        console.error('Errore nella richiesta GET:', error);\n    }\n},\n\n\n\n  async activateTimeMachine() {\n    if (!this.selectedDate || !this.selectedTime) {\n        alert('Per favore seleziona una data e un\\'ora!');\n        return;\n    }\n\n    const timeMachineData = {\n        date: moment(`${this.selectedDate}T${this.selectedTime}:00`).tz('Europe/Rome').format()\n    };\n\n    try {\n        const token = sessionStorage.getItem('token'); \n        const response = await axios.post('/api/updateTime-machine', timeMachineData, {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n\n        alert('Time Machine attivata con successo!');\n        console.log(response.data);\n        this.fetchData();\n    } catch (error) {\n        console.error('Errore nell\\'attivazione della Time Machine:', error);\n        alert('Si è verificato un errore durante l\\'attivazione della Time Machine');\n    }\n},\n\n\n      \n     \n\n\n      logout() {\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.clear();\n        sessionStorage.clear();\n        this.$router.push('/');\n      },\n\n\n  \n      \n      \n    }\n    \n    \n  };\n\n</script>\n\n<style scoped>\n\n.time-machine-form input,\n.time-machine-form button {\n  width: 150px;\n}\n\n\n.form-control-sm {\n  font-size: 0.8rem; \n  padding: 0.375rem 0.75rem; \n}\n\n.btn-sm {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8rem; \n}\n\n\n.form-control-sm {\n  font-size: 0.8rem; \n  padding: 0.375rem 0.75rem; \n}\n\n.btn-sm {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8rem; \n}\n\n.carousel-item {\n  background-color: #f0f0f0;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  background-color: #000;\n  border-radius: 50%;\n}\n\n.navbar {\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);\n}\n\n.nav-link {\n  padding: 10px 15px;\n  transition: background-color 0.3s;\n}\n\n.nav-link:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 5px;\n}\n\n.btn-danger {\n  margin-left: 10px;\n}\n\n\n.btn-danger:hover {\n  background-color: #c82333;\n  transition: background-color 0.3s;\n}\n\n.username-text{\n  color: #1100ff; \n  font-weight: bold;\n}\n\n\n\n\n.notifications-dropdown {\n  position: absolute;\n  top: 50px; \n  right: 10px;\n  width: 200px;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 10px;\n  z-index: 1000; \n}\n\n.notifications-dropdown ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.notifications-dropdown li {\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n}\n\n.notifications-dropdown li:last-child {\n  border-bottom: none;\n}\n\n.notifications-dropdown button {\n  margin-top: 10px;\n  width: 100%; \n}\n\n@media (max-width: 767px) {\n  .time-machine-form input,\n  .time-machine-form button {\n    width: 100px; /* Smaller width for mobile */\n  }\n\n  .form-control-sm {\n    font-size: 0.7rem; /* Smaller font size for mobile */\n    padding: 0.3rem 0.6rem; /* Adjusted padding */\n  }\n\n  .btn-sm {\n    padding: 0.3rem 0.6rem; /* Smaller button size */\n    font-size: 0.7rem; /* Smaller font size */\n  }\n\n  .notifications-dropdown {\n    width: 160px; /* Smaller width for mobile */\n  }\n}\n\n</style>"],"mappings":";AAmFA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,iBAAiB;AAGlC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,KAAK,OAAO;MACrDC,iBAAiB,EAAE,KAAK;MACxBC,aAAa,EAAE,EAAC;MAChBC,eAAe,EAAE,EAAE;MACnBC,eAAe,EAAE,EAAC;MAClBC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAC;IACPC,WAAWA,CAAA,EAAG;MACZ,MAAMC,YAAW,GAAI;QACnB,GAAG,EAAE,OAAO;QACZ,iBAAiB,EAAE,MAAM;QACzB,gBAAgB,EAAE,UAAU;QAC5B,OAAO,EAAE,YAAY;QACrB,gBAAgB,EAAE,YAAY;QAC9B,WAAW,EAAE,iBAAiB;QAC9B,UAAU,EAAE,cAAc;QAC1B,gBAAgB,EAAE,mBAAmB;QACrC,aAAa,EAAE,gBAAgB;QAC/B,aAAa,EAAE,mBAAmB;QAClC,gBAAgB,EAAE;MACpB,CAAC;MACD,OAAOA,YAAY,CAAC,IAAI,CAACC,MAAM,CAACC,IAAI,KAAK,EAAE;IAC7C;EAEF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACZ,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EAGGC,OAAO,EAAC;IAGN,MAAMC,gBAAgBA,CAAA,EAAG;MAC3B,IAAI;QACA,MAAMC,KAAI,GAAIC,cAAc,CAACjB,OAAO,CAAC,OAAO,CAAC;QAC7C,MAAMkB,QAAO,GAAI,MAAMvB,KAAK,CAACwB,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,EAAE;UAC7DC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUL,KAAK;UAAG;QAChD,CAAC,CAAC;QAEF,IAAI,CAACX,YAAW,GAAI,EAAE;QACtB,IAAI,CAACC,YAAW,GAAI,EAAE;QAEtBgB,KAAK,CAAC,8CAA8C,CAAC;QACrDC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACrB,IAAI,CAAC;QAC1B,IAAI,CAACgB,SAAS,CAAC,CAAC;MACpB,EAAE,OAAOY,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;QAC5DH,KAAK,CAAC,+DAA+D,CAAC;MAC1E;IACJ,CAAC;IAIK,MAAMT,SAASA,CAAA,EAAG;MACpB,IAAI;QACA,MAAMK,QAAO,GAAI,MAAMvB,KAAK,CAAC+B,GAAG,CAAC,sBAAsB,CAAC;QACxDH,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEN,QAAQ,CAACrB,IAAI,CAAC;QAE9C,MAAM8B,SAAQ,GAAI/B,MAAM,CAACsB,QAAQ,CAACrB,IAAI,CAAC+B,IAAI,CAAC,CAACC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,CAACC,MAAM,CAAC,CAAC;QAC7EP,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAEG,SAAS,CAAC;MACrE,EAAE,OAAOF,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACvD;IACJ,CAAC;IAIC,MAAMM,mBAAmBA,CAAA,EAAG;MAC1B,IAAI,CAAC,IAAI,CAAC1B,YAAW,IAAK,CAAC,IAAI,CAACC,YAAY,EAAE;QAC1CgB,KAAK,CAAC,0CAA0C,CAAC;QACjD;MACJ;MAEA,MAAMU,eAAc,GAAI;QACpBJ,IAAI,EAAEhC,MAAM,CAAC,GAAG,IAAI,CAACS,YAAY,IAAI,IAAI,CAACC,YAAY,KAAK,CAAC,CAACuB,EAAE,CAAC,aAAa,CAAC,CAACC,MAAM,CAAC;MAC1F,CAAC;MAED,IAAI;QACA,MAAMd,KAAI,GAAIC,cAAc,CAACjB,OAAO,CAAC,OAAO,CAAC;QAC7C,MAAMkB,QAAO,GAAI,MAAMvB,KAAK,CAACwB,IAAI,CAAC,yBAAyB,EAAEa,eAAe,EAAE;UAC1EZ,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUL,KAAK;UAAG;QAChD,CAAC,CAAC;QAEFM,KAAK,CAAC,qCAAqC,CAAC;QAC5CC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACrB,IAAI,CAAC;QAC1B,IAAI,CAACgB,SAAS,CAAC,CAAC;MACpB,EAAE,OAAOY,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;QACpEH,KAAK,CAAC,qEAAqE,CAAC;MAChF;IACJ,CAAC;IAOKW,MAAMA,CAAA,EAAG;MACPlC,YAAY,CAACmC,UAAU,CAAC,OAAO,CAAC;MAChCnC,YAAY,CAACmC,UAAU,CAAC,UAAU,CAAC;MACnCnC,YAAY,CAACoC,KAAK,CAAC,CAAC;MACpBlB,cAAc,CAACkB,KAAK,CAAC,CAAC;MACtB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACxB;EAMF;AAGF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}