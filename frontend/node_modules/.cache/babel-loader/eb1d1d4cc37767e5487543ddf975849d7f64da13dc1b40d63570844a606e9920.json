{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"note-container\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"form-group\"\n};\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = {\n  class: \"notes-list\"\n};\nconst _hoisted_8 = [\"innerHTML\"];\nconst _hoisted_9 = {\n  class: \"note-actions\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h1\", null, \"Aggiungi una Nota\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => _ctx.addNote && _ctx.addNote(...args), [\"prevent\"])),\n    class: \"note-form\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"heading\"\n  }, \"Titolo:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.newNote.heading = $event),\n    id: \"heading\",\n    required: \"\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newNote.heading]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"content\"\n  }, \"Contenuto(possibile scrivere in markdwon):\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.newNote.content = $event),\n    id: \"content\",\n    rows: \"4\",\n    class: \"form-textarea\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newNote.content]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"access\"\n  }, \"Livello di Accesso:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.newNote.access = $event),\n    id: \"access\",\n    class: \"form-input\"\n  }, _cache[7] || (_cache[7] = [_createElementVNode(\"option\", {\n    value: \"public\"\n  }, \"Pubblico\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"private\"\n  }, \"Privato\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"restricted\"\n  }, \"Riservato\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.newNote.access]])]), _ctx.newNote.access === 'restricted' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"allowedUsers\"\n  }, \"Seleziona Utenti Autorizzati:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.newNote.allowedUsers = $event),\n    id: \"allowedUsers\",\n    class: \"form-input\",\n    multiple: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.allUsers, user => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: user.id,\n      value: user.username\n    }, _toDisplayString(user.username), 9 /* TEXT, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.newNote.allowedUsers]])])) : _createCommentVNode(\"v-if\", true), _cache[10] || (_cache[10] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"submit-button\"\n  }, \"Aggiungi Nota\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _cache[12] || (_cache[12] = _createElementVNode(\"h1\", null, \"Note\", -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.notes, note => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: note._id,\n      class: \"note-item\"\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(note.heading), 1 /* TEXT */), _createElementVNode(\"div\", {\n      class: \"note-content\",\n      innerHTML: _ctx.renderMarkdown(note.content)\n    }, null, 8 /* PROPS */, _hoisted_8), _createElementVNode(\"p\", null, \"Autore: \" + _toDisplayString(note.author), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.editNote(note._id),\n      class: \"edit-btn\"\n    }, \"Modifica\", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.deleteNote(note._id),\n      class: \"delete-btn\"\n    }, \"Elimina\", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","_ctx","addNote","_hoisted_2","for","type","$event","newNote","heading","id","required","_hoisted_3","content","rows","_hoisted_4","access","value","_hoisted_5","allowedUsers","multiple","_Fragment","_renderList","allUsers","user","username","_hoisted_6","_createCommentVNode","_hoisted_7","notes","note","_id","_toDisplayString","innerHTML","renderMarkdown","_hoisted_8","author","_hoisted_9","onClick","editNote","_hoisted_10","deleteNote","_hoisted_11"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/views/ToDoApp.vue"],"sourcesContent":["<template>\n  <div class=\"note-container\">\n    <h1>Aggiungi una Nota</h1>\n    <form @submit.prevent=\"addNote\" class=\"note-form\">\n      <div class=\"form-group\">\n        <label for=\"heading\">Titolo:</label>\n        <input type=\"text\" v-model=\"newNote.heading\" id=\"heading\" required class=\"form-input\" />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"content\">Contenuto(possibile scrivere in markdwon):</label>\n        <textarea v-model=\"newNote.content\" id=\"content\" rows=\"4\" class=\"form-textarea\"></textarea>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"access\">Livello di Accesso:</label>\n        <select v-model=\"newNote.access\" id=\"access\" class=\"form-input\">\n          <option value=\"public\">Pubblico</option>\n          <option value=\"private\">Privato</option>\n          <option value=\"restricted\">Riservato</option>\n        </select>\n      </div>\n\n      <div class=\"form-group\" v-if=\"newNote.access === 'restricted'\">\n        <label for=\"allowedUsers\">Seleziona Utenti Autorizzati:</label>\n        <select v-model=\"newNote.allowedUsers\" id=\"allowedUsers\" class=\"form-input\" multiple>\n          <option v-for=\"user in allUsers\" :key=\"user.id\" :value=\"user.username\">\n            {{ user.username }}\n          </option>\n        </select>\n      </div>\n\n\n      <button type=\"submit\" class=\"submit-button\">Aggiungi Nota</button>\n    </form>\n\n    <h1>Note</h1>\n    <ul class=\"notes-list\">\n      <li v-for=\"note in notes\" :key=\"note._id\" class=\"note-item\">\n        <h2>{{ note.heading }}</h2>\n        <div class=\"note-content\" v-html=\"renderMarkdown(note.content)\"></div>\n        <p>Autore: {{ note.author }}</p>\n        <div class=\"note-actions\">\n          <button @click=\"editNote(note._id)\" class=\"edit-btn\">Modifica</button>\n          <button @click=\"deleteNote(note._id)\" class=\"delete-btn\">Elimina</button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { marked } from 'marked';\n\nexport default {\n  data() {\n    return {\n      newNote: {\n        heading: '',\n        access: 'private',\n        allowedUsers: [] ,\n        content: ''\n      },\n      allUsers: [];\n      notes: []\n    };\n  },\n  async created() {\n    this.fetchNotes();\n  },\n  methods: {\n    async fetchNotes() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const username = localStorage.getItem('username');\n        if (!username) {\n          console.error('Username non trovato');\n          return;\n        }\n        const response = await axios.get('/api/notesGET', {\n          params: { username: username },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.notes = response.data;\n      } catch (error) {\n        console.error('Errore nel recupero delle note:', error);\n      }\n    },\n    async addNote() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const username = localStorage.getItem('username');\n        if (!username) {\n          console.error('Username non trovato, impossibile creare la nota');\n          return;\n        }\n        this.newNote.author = username;\n\n        const response = await axios.post('/api/notes', this.newNote, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Nota aggiunta:', response.data);\n\n        this.newNote = { heading: '', content: '', access: 'private' };\n\n        this.fetchNotes();\n      } catch (error) {\n        console.error(\"Errore nell'aggiunta della nota:\", error);\n      }\n    },\n    editNote(id) {\n      this.$router.push(`/edit-note/${id}`);\n    },\n    async deleteNote(id) {\n      try {\n        const token = sessionStorage.getItem('token');\n        await axios.delete(`/api/notesRIM/${id}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Nota eliminata');\n        this.fetchNotes();\n      } catch (error) {\n        console.error(\"Errore nell'eliminazione della nota:\", error);\n      }\n    },\n    renderMarkdown(content) {\n      if (!content) return '';\n      return marked(content);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.note-container {\n  max-width: 600px;\n  margin: 50px auto;\n  padding: 30px;\n  background-color: #15172b;\n  border-radius: 12px;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease;\n  box-sizing: border-box;\n}\n\n.note-container:hover {\n  transform: translateY(-5px);\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 30px;\n  color: #acb0b4;\n  font-family: 'Poppins', sans-serif;\n  font-size: 28px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 8px;\n  color: #acb0b4;\n  font-family: 'Poppins', sans-serif;\n  display: block;\n}\n\n.form-input, .form-textarea {\n  padding: 12px;\n  border: 2px solid #ced4da;\n  border-radius: 8px;\n  font-size: 16px;\n  width: 100%;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n  background-color: #f3f4f6;\n}\n\n.form-input:focus, .form-textarea:focus {\n  border-color: #007bff;\n  box-shadow: 0 0 8px rgba(0, 123, 255, 0.25);\n  outline: none;\n}\n\n.form-textarea {\n  height: 120px;\n  resize: none;\n}\n\n.submit-button {\n  padding: 12px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 18px;\n  font-family: 'Poppins', sans-serif;\n  transition: background-color 0.3s ease, transform 0.2s;\n}\n\n.submit-button:hover {\n  background-color: #0056b3;\n  transform: translateY(-2px);\n}\n\n.notes-list {\n  list-style-type: none;\n  padding: 0;\n  width: 100%;\n  max-width: 600px;\n  margin-top: 20px;\n}\n\n.note-item {\n  background-color: #ffffff;\n  border-radius: 12px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n.note-content {\n  margin-bottom: 15px;\n  line-height: 1.6;\n  color: #333;\n  width: 100%;\n  text-align: left;\n}\n\n.note-actions {\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n}\n\n.note-actions button {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  margin: 0 5px;\n  transition: background-color 0.3s;\n}\n\n.note-actions .edit-btn:hover {\n  background-color: #0056b3;\n}\n\n.note-actions .delete-btn {\n  background-color: #dc3545;\n}\n\n.note-actions .delete-btn:hover {\n  background-color: #c82333;\n}\n\n.status-message {\n  text-align: center;\n  margin-top: 20px;\n  color: #28a745;\n  font-family: 'Poppins', sans-serif;\n  font-size: 16px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}