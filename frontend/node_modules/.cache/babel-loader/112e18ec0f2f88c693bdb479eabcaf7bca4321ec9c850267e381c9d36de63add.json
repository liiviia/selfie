{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar bg-body-tertiary\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"d-flex ms-auto align-items-center\"\n};\nconst _hoisted_4 = {\n  class: \"me-4\",\n  href: \"/accountUtente\"\n};\nconst _hoisted_5 = {\n  class: \"username-initials\"\n};\nconst _hoisted_6 = {\n  class: \"d-flex ms-auto align-items-center time-machine-form\"\n};\nconst _hoisted_7 = {\n  class: \"offcanvas offcanvas-start\",\n  tabindex: \"-1\",\n  id: \"offcanvasNavbar\",\n  \"aria-labelledby\": \"offcanvasNavbarLabel\"\n};\nconst _hoisted_8 = {\n  class: \"offcanvas-body\"\n};\nconst _hoisted_9 = {\n  class: \"navbar-nav me-auto\"\n};\nconst _hoisted_10 = {\n  class: \"nav-item\"\n};\nconst _hoisted_11 = {\n  class: \"nav-item username-text\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"d-flex align-items-center\"\n  }, [_createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"offcanvas\",\n    \"data-bs-target\": \"#offcanvasNavbar\",\n    \"aria-controls\": \"offcanvasNavbar\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })])], -1)), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"a\", {\n    class: \"navbar-brand me-4\",\n    href: \"/homePrincipale\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-home\"\n  })], -1)), _createElementVNode(\"a\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"i\", {\n    class: \"fas fa-user\",\n    style: {\n      \"color\": \"black\"\n    }\n  }, null, -1)), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($data.username), 1)])]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedDate = $event),\n    class: \"form-control form-control-sm me-2\"\n  }, null, 512), [[_vModelText, $data.selectedDate]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"time\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedTime = $event),\n    class: \"form-control form-control-sm me-2\"\n  }, null, 512), [[_vModelText, $data.selectedTime]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.activateTimeMachine && $options.activateTimeMachine(...args)),\n    class: \"btn btn-sm btn-primary\"\n  }, \"cambia orario\"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.resetTimeMachine && $options.resetTimeMachine(...args)),\n    class: \"btn-sm btn-primary\"\n  }, \"reset time machine\")]), _createElementVNode(\"div\", _hoisted_7, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"offcanvas-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"offcanvas-title\",\n    id: \"offcanvasNavbarLabel\"\n  }, \"Menu\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"offcanvas\",\n    \"aria-label\": \"Close\"\n  })], -1)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"ul\", _hoisted_9, [_createElementVNode(\"li\", _hoisted_10, [_createElementVNode(\"span\", _hoisted_11, \"Benvenuto, \" + _toDisplayString($data.username) + \"!\", 1)]), _cache[7] || (_cache[7] = _createStaticVNode(\"<li class=\\\"nav-item\\\" data-v-1622f862><a class=\\\"nav-link\\\" href=\\\"/todo\\\" data-v-1622f862>Note</a></li><li class=\\\"nav-item dropdown\\\" data-v-1622f862><a class=\\\"nav-link dropdown-toggle\\\" href=\\\"#\\\" id=\\\"eventDropdown\\\" data-bs-toggle=\\\"dropdown\\\" aria-expanded=\\\"false\\\" data-v-1622f862> Eventi </a><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"eventDropdown\\\" data-v-1622f862><li data-v-1622f862><a class=\\\"dropdown-item\\\" href=\\\"/addEvent\\\" data-v-1622f862>Aggiungi evento</a></li></ul></li><li class=\\\"nav-item dropdown\\\" data-v-1622f862><a class=\\\"nav-link dropdown-toggle\\\" href=\\\"#\\\" id=\\\"activityDropdown\\\" data-bs-toggle=\\\"dropdown\\\" aria-expanded=\\\"false\\\" data-v-1622f862> Attività </a><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"activityDropdown\\\" data-v-1622f862><li data-v-1622f862><a class=\\\"dropdown-item\\\" href=\\\"/addActivities\\\" data-v-1622f862>Aggiungi attività</a></li></ul></li><li class=\\\"nav-item\\\" data-v-1622f862><a class=\\\"nav-link\\\" href=\\\"/calendarEvent\\\" data-v-1622f862>Calendario</a></li><li class=\\\"nav-item\\\" data-v-1622f862><a class=\\\"nav-link\\\" href=\\\"/pomodoroTempo\\\" data-v-1622f862>Pomodoro</a></li>\", 5))]), _createElementVNode(\"button\", {\n    class: \"btn btn-dark mt-3\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")])])])]);\n}","map":{"version":3,"names":["class","href","tabindex","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","_hoisted_3","_hoisted_4","style","_hoisted_5","_toDisplayString","$data","username","_hoisted_6","_cache","$event","selectedDate","selectedTime","onClick","args","$options","activateTimeMachine","resetTimeMachine","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createStaticVNode","logout"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/components/NavigationBar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar bg-body-tertiary\">\n    <div class=\"container-fluid\">\n      <div class=\"d-flex align-items-center\">\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\"\n          aria-controls=\"offcanvasNavbar\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        \n      </div>\n\n        \n\n      <div class=\"d-flex ms-auto align-items-center\">\n        <a class=\"navbar-brand me-4\" href=\"/homePrincipale\">\n            <i class=\"fas fa-home\"></i>\n        </a>\n\n        <a class=\"me-4\" href=\"/accountUtente\">\n            <i class=\"fas fa-user\" style=\"color: black;\"></i>\n            <span class=\"username-initials\">{{ username }}</span>\n        </a>\n\n       \n\n        \n\n      </div>\n\n\n\n      <div class=\"d-flex ms-auto align-items-center time-machine-form\">\n  <input type=\"date\" v-model=\"selectedDate\" class=\"form-control form-control-sm me-2\" />\n  <input type=\"time\" v-model=\"selectedTime\" class=\"form-control form-control-sm me-2\" />\n  <button @click=\"activateTimeMachine\" class=\"btn btn-sm btn-primary\">cambia orario</button>\n  <button @click=\"resetTimeMachine\" class=\"btn-sm btn-primary\">reset time machine</button>\n</div>\n\n\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasNavbar\" aria-labelledby=\"offcanvasNavbarLabel\">\n        <div class=\"offcanvas-header\">\n          <h5 class=\"offcanvas-title\" id=\"offcanvasNavbarLabel\">Menu</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"offcanvas-body\">\n          <ul class=\"navbar-nav me-auto\">\n            <li class=\"nav-item\">\n              <span class=\"nav-item username-text\">Benvenuto, {{ username }}!</span>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" href=\"/todo\">Note</a>\n            </li>\n            <li class=\"nav-item dropdown\">\n              <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"eventDropdown\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                Eventi\n              </a>\n              <ul class=\"dropdown-menu\" aria-labelledby=\"eventDropdown\">\n                <li><a class=\"dropdown-item\" href=\"/addEvent\">Aggiungi evento</a></li>\n            <!--    <li><a class=\"dropdown-item\" href=\"/eventsE\">Lista eventi</a></li> -->\n              </ul>\n            </li>\n            <li class=\"nav-item dropdown\">\n              <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"activityDropdown\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                Attività\n              </a>\n              <ul class=\"dropdown-menu\" aria-labelledby=\"activityDropdown\">\n                <li><a class=\"dropdown-item\" href=\"/addActivities\">Aggiungi attività</a></li>\n             <!--   <li><a class=\"dropdown-item\" href=\"/ActivitiesPage\">Lista attività</a></li> -->\n              </ul>\n            </li>\n            <li class=\"nav-item\"><a class=\"nav-link\" href=\"/calendarEvent\">Calendario</a></li>\n            <li class=\"nav-item\"><a class=\"nav-link\" href=\"/pomodoroTempo\">Pomodoro</a></li>\n           <!-- <li class=\"nav-item\"><a class=\"nav-link\" href=\"/pomSession\">Sessioni Pomodoro</a></li> -->\n          </ul>\n          <button class=\"btn btn-dark mt-3\" @click=\"logout\">Logout</button>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n  \n<script>\n\nimport axios from 'axios';\nimport moment from 'moment-timezone';\n\n\n  export default {\n    data() {\n      return {\n        username: localStorage.getItem('username') || 'Guest',\n        showNotifications: false,\n        notifications: [] ,\n        timeMachineDate: '',  \n        timeMachineTime: ''  ,\n        selectedDate: '', \n        selectedTime: ''\n      };\n    }, \n    computed:{\n      currentPage() {\n        const routeNameMap = {\n          '/': 'Login', \n          '/homePrincipale': 'Home',\n          '/pomodoroTempo': 'Pomodoro',\n          '/todo': 'Lista Note',\n          '/calendarEvent': 'Calendario',\n          '/addEvent': 'Aggiungi Evento',\n          '/eventsE': 'Lista Eventi',\n          '/addActivities': 'Aggiungi Attività',\n          '/activities': 'Lista Attività',\n          '/pomSession': 'Sessioni Pomodoro',\n          '/accountUtente': 'Gestisci il tuo Account',\n        };\n        return routeNameMap[this.$route.path] || ''; \n      },\n     \n    },\n\n    mounted() {\n  this.fetchData();  \n},\n\n\n    methods:{\n\n\n      async resetTimeMachine() {\n    try {\n        const token = sessionStorage.getItem('token'); \n        const response = await axios.post('/api/time-machine/reset', {}, {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n\n        this.selectedDate = ''; \n        this.selectedTime = ''; \n\n        alert('Time Machine resettata alla data di sistema!');\n        console.log(response.data);\n        this.fetchData(); \n    } catch (error) {\n        console.error('Errore nel reset della Time Machine:', error);\n        alert('Si è verificato un errore durante il reset della Time Machine');\n    }\n},\n\n\n\n      async fetchData() {\n    try {\n        const response = await axios.get('/api/getTime-machine'); \n        //console.log(\"get time machine\", response.data);\n\n        const localDate = moment(response.data.date).tz('Europe/Rome', true).format();\n      //  console.log(\"Data convertita nel fuso orario locale:\", localDate);\n    } catch (error) {\n        console.error('Errore nella richiesta GET:', error);\n    }\n},\n\n\n\n  async activateTimeMachine() {\n    if (!this.selectedDate || !this.selectedTime) {\n        alert('Per favore seleziona una data e un\\'ora!');\n        return;\n    }\n\n    const timeMachineData = {\n        date: moment(`${this.selectedDate}T${this.selectedTime}:00`).tz('Europe/Rome').format()\n    };\n\n    try {\n        const token = sessionStorage.getItem('token'); \n        const response = await axios.post('/api/updateTime-machine', timeMachineData, {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n\n        alert('Time Machine attivata con successo!');\n        console.log(response.data);\n        this.fetchData();\n    } catch (error) {\n        console.error('Errore nell\\'attivazione della Time Machine:', error);\n        alert('Si è verificato un errore durante l\\'attivazione della Time Machine');\n    }\n},\n\n\n      \n     \n\n\n      logout() {\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.clear();\n        sessionStorage.clear();\n        this.$router.push('/');\n      },\n\n\n  \n      \n      \n    }\n    \n    \n  };\n\n</script>\n\n<style scoped>\n\n.time-machine-form input,\n.time-machine-form button {\n  width: 150px;\n}\n\n\n.form-control-sm {\n  font-size: 0.8rem; \n  padding: 0.375rem 0.75rem; \n}\n\n.btn-sm {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8rem; \n}\n\n\n.form-control-sm {\n  font-size: 0.8rem; \n  padding: 0.375rem 0.75rem; \n}\n\n.btn-sm {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8rem; \n}\n\n.carousel-item {\n  background-color: #f0f0f0;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  background-color: #000;\n  border-radius: 50%;\n}\n\n.navbar {\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);\n}\n\n.nav-link {\n  padding: 10px 15px;\n  transition: background-color 0.3s;\n}\n\n.nav-link:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 5px;\n}\n\n.btn-danger {\n  margin-left: 10px;\n}\n\n\n.btn-danger:hover {\n  background-color: #c82333;\n  transition: background-color 0.3s;\n}\n\n.username-text{\n  color: #1100ff; \n  font-weight: bold;\n}\n\n\n\n\n.notifications-dropdown {\n  position: absolute;\n  top: 50px; \n  right: 10px;\n  width: 200px;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 10px;\n  z-index: 1000; \n}\n\n.notifications-dropdown ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.notifications-dropdown li {\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n}\n\n.notifications-dropdown li:last-child {\n  border-bottom: none;\n}\n\n.notifications-dropdown button {\n  margin-top: 10px;\n  width: 100%; \n}\n\n@media (max-width: 767px) {\n  .time-machine-form input,\n  .time-machine-form button {\n    width: 70px; \n  }\n\n  .form-control-sm {\n    font-size: 0.7rem; \n    padding: 0.3rem 0.6rem; \n  }\n\n  .btn-sm {\n    padding: 0.3rem 0.6rem; \n    font-size: 0.7rem; \n  }\n\n  .notifications-dropdown {\n    width: 160px; \n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}