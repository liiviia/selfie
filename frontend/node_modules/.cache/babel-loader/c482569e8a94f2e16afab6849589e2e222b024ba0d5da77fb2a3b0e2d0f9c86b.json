{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      alerts: []\n    };\n  },\n  created() {\n    // Connetti al server SSE\n    const eventSource = new EventSource('http://site232432.tw.cs.unibo.it:8000/sse');\n\n    // Ascolta i messaggi dal server\n    eventSource.onmessage = event => {\n      const data = JSON.parse(event.data);\n      console.log('Alert ricevuto:', data);\n      const loggedInUser = localStorage.getItem('username'); // Verifica l'utente loggato\n\n      if (data.userNome === loggedInUser) {\n        alert(`TITOLO: ${data.title}\\nOra di inizio: ${data.startTime}\\nDi utente: ${data.userNome}`);\n        this.alerts.push(data); // Aggiungi l'alert alla lista\n      }\n    };\n    eventSource.onerror = error => {\n      console.error('Errore SSE:', error);\n    };\n  }\n};","map":{"version":3,"names":["data","alerts","created","eventSource","EventSource","onmessage","event","JSON","parse","console","log","loggedInUser","localStorage","getItem","userNome","alert","title","startTime","push","onerror","error"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/components/NotificationComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>Notifiche</h2>\n    <ul>\n      <li v-for=\"alert in alerts\" :key=\"alert.title\">\n        <strong>{{ alert.title }}</strong> - {{ alert.date }} at {{ alert.startTime }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      alerts: [],\n    };\n  },\n  created() {\n    // Connetti al server SSE\n    const eventSource = new EventSource('http://site232432.tw.cs.unibo.it:8000/sse');\n\n    // Ascolta i messaggi dal server\n    eventSource.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      console.log('Alert ricevuto:', data);\n\n      const loggedInUser = localStorage.getItem('username'); // Verifica l'utente loggato\n\n      if (data.userNome === loggedInUser) {\n        alert(`TITOLO: ${data.title}\\nOra di inizio: ${data.startTime}\\nDi utente: ${data.userNome}`);\n        this.alerts.push(data); // Aggiungi l'alert alla lista\n      }\n    };\n\n    eventSource.onerror = (error) => {\n      console.error('Errore SSE:', error);\n    };\n  },\n};\n\n</script>\n\n<style scoped>\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  margin-bottom: 10px;\n}\nstrong {\n  color: #333;\n}\n</style>\n"],"mappings":";AAYA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,MAAMC,WAAU,GAAI,IAAIC,WAAW,CAAC,2CAA2C,CAAC;;IAEhF;IACAD,WAAW,CAACE,SAAQ,GAAKC,KAAK,IAAK;MACjC,MAAMN,IAAG,GAAIO,IAAI,CAACC,KAAK,CAACF,KAAK,CAACN,IAAI,CAAC;MACnCS,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEV,IAAI,CAAC;MAEpC,MAAMW,YAAW,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAE;;MAEvD,IAAIb,IAAI,CAACc,QAAO,KAAMH,YAAY,EAAE;QAClCI,KAAK,CAAC,WAAWf,IAAI,CAACgB,KAAK,oBAAoBhB,IAAI,CAACiB,SAAS,gBAAgBjB,IAAI,CAACc,QAAQ,EAAE,CAAC;QAC7F,IAAI,CAACb,MAAM,CAACiB,IAAI,CAAClB,IAAI,CAAC,EAAE;MAC1B;IACF,CAAC;IAEDG,WAAW,CAACgB,OAAM,GAAKC,KAAK,IAAK;MAC/BX,OAAO,CAACW,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACrC,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}