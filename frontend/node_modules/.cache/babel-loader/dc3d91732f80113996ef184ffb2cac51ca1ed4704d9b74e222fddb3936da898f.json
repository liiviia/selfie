{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"event-list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", null, \"Lista Eventi\", -1 /* HOISTED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.events, event => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: event._id,\n      class: \"event-item\"\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(event.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(event.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"strong\", null, \"Data:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($options.formatDate(event.date)), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"strong\", null, \"Orario:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(event.time), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"Durata:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(event.duration) + \" minuti\", 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"Luogo:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(event.location), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Ripetizione:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($options.formatRepeat(event)), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"Autore:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(event.author), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_Fragment","_renderList","$data","events","event","key","_id","_toDisplayString","title","description","_createTextVNode","$options","formatDate","date","time","duration","location","formatRepeat","author"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/views/eventsE.vue"],"sourcesContent":["<template>\n  <div class=\"event-list\">\n    <h1>Lista Eventi</h1>\n    <ul>\n      <li v-for=\"event in events\" :key=\"event._id\" class=\"event-item\">\n        <h2>{{ event.title }}</h2>\n        <p>{{ event.description }}</p>\n        <p><strong>Data:</strong> {{ formatDate(event.date) }}</p>\n        <p><strong>Orario:</strong> {{ event.time }}</p>\n        <p><strong>Durata:</strong> {{ event.duration }} minuti</p>\n        <p><strong>Luogo:</strong> {{ event.location }}</p>\n        <p><strong>Ripetizione:</strong> {{ formatRepeat(event) }}</p>\n        <p><strong>Autore:</strong> {{ event.author }}</p>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      events: []\n    };\n  },\n  methods: {\n    async fetchEvents() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const username = localStorage.getItem('username'); \n        const response = await axios.get('/api/eventsGET', {\n          headers: {\n            Authorization: `Bearer ${token}` \n          },\n          params: { author: username }\n        });\n        this.events = response.data;\n      } catch (error) {\n        console.error('Errore nel recupero degli eventi:', error);\n      }\n    },\n    formatDate(date) {\n      const d = new Date(date);\n      return d.toLocaleDateString();\n    },\n    formatRepeat(event) {\n      if (event.repeatFrequency) {\n        let frequencyDetails = `${event.repeatFrequency}`;\n        if (event.daysOfWeek && event.daysOfWeek.length) {\n          frequencyDetails += ` ogni ${event.daysOfWeek.join(', ')}`;\n        }\n        if (event.dayOfMonth) {\n          frequencyDetails += ` ogni ${event.dayOfMonth}Â° giorno del mese`;\n        }\n        if (event.repeatUntil) {\n          frequencyDetails += ` fino al ${this.formatDate(event.repeatUntil)}`;\n        }\n        return frequencyDetails;\n      }\n      return 'Nessuna ripetizione';\n    }\n  },\n  mounted() {\n    this.fetchEvents();\n  }\n};\n</script>\n\n<style scoped>\n.event-list {\n  max-width: 800px;\n  margin: 20px auto;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 20px;\n  color: #343a40;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\n.event-item {\n  margin-bottom: 20px;\n  border-bottom: 1px solid #ccc;\n  padding-bottom: 10px;\n}\n\n.event-item h2 {\n  color: #007bff;\n  margin: 0;\n}\n\n.event-item p {\n  margin: 5px 0;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAY;;uBAAvBC,mBAAA,CAcM,OAdNC,UAcM,G,0BAbJC,mBAAA,CAAqB,YAAjB,cAAY,sBAChBA,mBAAA,CAWK,c,kBAVHF,mBAAA,CASKG,SAAA,QAbXC,WAAA,CAI0BC,KAAA,CAAAC,MAAM,EAAfC,KAAK;yBAAhBP,mBAAA,CASK;MATwBQ,GAAG,EAAED,KAAK,CAACE,GAAG;MAAEV,KAAK,EAAC;QACjDG,mBAAA,CAA0B,YAAAQ,gBAAA,CAAnBH,KAAK,CAACI,KAAK,kBAClBT,mBAAA,CAA8B,WAAAQ,gBAAA,CAAxBH,KAAK,CAACK,WAAW,kBACvBV,mBAAA,CAA0D,Y,0BAAvDA,mBAAA,CAAsB,gBAAd,OAAK,sBAPxBW,gBAAA,CAOiC,GAAC,GAAAH,gBAAA,CAAGI,QAAA,CAAAC,UAAU,CAACR,KAAK,CAACS,IAAI,kB,GAClDd,mBAAA,CAAgD,Y,0BAA7CA,mBAAA,CAAwB,gBAAhB,SAAO,sBAR1BW,gBAAA,CAQmC,GAAC,GAAAH,gBAAA,CAAGH,KAAK,CAACU,IAAI,iB,GACzCf,mBAAA,CAA2D,Y,0BAAxDA,mBAAA,CAAwB,gBAAhB,SAAO,sBAT1BW,gBAAA,CASmC,GAAC,GAAAH,gBAAA,CAAGH,KAAK,CAACW,QAAQ,IAAG,SAAO,gB,GACvDhB,mBAAA,CAAmD,Y,0BAAhDA,mBAAA,CAAuB,gBAAf,QAAM,sBAVzBW,gBAAA,CAUkC,GAAC,GAAAH,gBAAA,CAAGH,KAAK,CAACY,QAAQ,iB,GAC5CjB,mBAAA,CAA8D,Y,0BAA3DA,mBAAA,CAA6B,gBAArB,cAAY,sBAX/BW,gBAAA,CAWwC,GAAC,GAAAH,gBAAA,CAAGI,QAAA,CAAAM,YAAY,CAACb,KAAK,kB,GACtDL,mBAAA,CAAkD,Y,0BAA/CA,mBAAA,CAAwB,gBAAhB,SAAO,sBAZ1BW,gBAAA,CAYmC,GAAC,GAAAH,gBAAA,CAAGH,KAAK,CAACc,MAAM,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}