{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      alerts: []\n    };\n  },\n  created() {\n    const fetchAlerts = async () => {\n      try {\n        const loggedInUser = localStorage.getItem('username');\n        const response = await fetch(`/alerts?userNome=${loggedInUser}`);\n        if (response.ok) {\n          const newAlerts = await response.json();\n          this.alerts.push(...newAlerts);\n          newAlerts.forEach(alert => {\n            alert(`TITOLO: ${alert.title}\\nOra di inizio: ${alert.startTime}\\nDi utente: ${alert.userNome}`);\n          });\n        } else {\n          console.error('Errore durante il polling:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Errore nella richiesta:', error);\n      } finally {\n        setTimeout(fetchAlerts, 1000);\n      }\n    };\n    fetchAlerts();\n  }\n};","map":{"version":3,"names":["data","alerts","created","fetchAlerts","loggedInUser","localStorage","getItem","response","fetch","ok","newAlerts","json","push","forEach","alert","title","startTime","userNome","console","error","statusText","setTimeout"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/components/NotificationComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <ul>\n      <li v-for=\"alert in alerts\" :key=\"alert.title\">\n        {{ alert.title }} - {{ alert.date }} - {{ alert.startTime }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      alerts: [], \n    };\n  },\n  created() {\n    const fetchAlerts = async () => {\n      try {\n        const loggedInUser = localStorage.getItem('username'); \n        const response = await fetch(`/alerts?userNome=${loggedInUser}`);\n        if (response.ok) {\n          const newAlerts = await response.json();\n          this.alerts.push(...newAlerts); \n          newAlerts.forEach(alert => {\n            alert(`TITOLO: ${alert.title}\\nOra di inizio: ${alert.startTime}\\nDi utente: ${alert.userNome}`);\n          });\n        } else {\n          console.error('Errore durante il polling:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Errore nella richiesta:', error);\n      } finally {\n        setTimeout(fetchAlerts, 1000);\n      }\n    };\n\n    fetchAlerts();\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"mappings":";AAWA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,WAAU,GAAI,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,YAAW,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;QACrD,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,oBAAoBJ,YAAY,EAAE,CAAC;QAChE,IAAIG,QAAQ,CAACE,EAAE,EAAE;UACf,MAAMC,SAAQ,GAAI,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;UACvC,IAAI,CAACV,MAAM,CAACW,IAAI,CAAC,GAAGF,SAAS,CAAC;UAC9BA,SAAS,CAACG,OAAO,CAACC,KAAI,IAAK;YACzBA,KAAK,CAAC,WAAWA,KAAK,CAACC,KAAK,oBAAoBD,KAAK,CAACE,SAAS,gBAAgBF,KAAK,CAACG,QAAQ,EAAE,CAAC;UAClG,CAAC,CAAC;QACJ,OAAO;UACLC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEZ,QAAQ,CAACa,UAAU,CAAC;QAClE;MACF,EAAE,OAAOD,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,UAAU;QACRE,UAAU,CAAClB,WAAW,EAAE,IAAI,CAAC;MAC/B;IACF,CAAC;IAEDA,WAAW,CAAC,CAAC;EACf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}