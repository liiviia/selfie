{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"button-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  key: 2\n};\nconst _hoisted_5 = {\n  key: 3\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h2\", null, \"Eventi, Attività e Pomodori per \" + _toDisplayString($setup.formatDate($setup.queryDate)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.navigateToAddEvent && $setup.navigateToAddEvent(...args))\n  }, \"Aggiungi Evento\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.navigateToAddActivity && $setup.navigateToAddActivity(...args))\n  }, \"Aggiungi Attività\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.navigateToAddPomodoro && $setup.navigateToAddPomodoro(...args))\n  }, \"Aggiungi Pomodoro\")]), $setup.events.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"h3\", null, \"Eventi:\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.events, event => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: event._id\n    }, [_createElementVNode(\"h4\", null, _toDisplayString(event.title), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Data: \" + _toDisplayString($setup.formatDate(event.date)), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Descrizione: \" + _toDisplayString(event.description), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $setup.activities.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"Attività:\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.activities, activity => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: activity._id\n    }, [_createElementVNode(\"h4\", null, _toDisplayString(activity.title), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Data: \" + _toDisplayString($setup.formatDate(activity.deadline || activity.date)), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Descrizione: \" + _toDisplayString(activity.description), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $setup.pomodoros.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"h3\", null, \"Pomodori:\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.pomodoros, pomodoro => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: pomodoro._id\n    }, [_cache[5] || (_cache[5] = _createElementVNode(\"h4\", null, \"Pomodoro Sessione\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, \"Data: \" + _toDisplayString($setup.formatDate(pomodoro.giorno)), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Tempo di studio: \" + _toDisplayString(pomodoro.tempoStudio) + \" minuti\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"Tempo di pausa: \" + _toDisplayString(pomodoro.tempoPausa) + \" minuti\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"Ripetizioni: \" + _toDisplayString(pomodoro.ripetizioni), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $setup.events.length === 0 && $setup.activities.length === 0 && $setup.pomodoros.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _cache[7] || (_cache[7] = [_createElementVNode(\"p\", null, \"Nessun evento o attività o pomodoro per questa data.\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createElementVNode","_toDisplayString","$setup","formatDate","queryDate","_hoisted_1","onClick","_cache","args","navigateToAddEvent","navigateToAddActivity","navigateToAddPomodoro","events","length","_hoisted_2","_Fragment","_renderList","event","_id","title","date","description","_createCommentVNode","activities","_hoisted_3","activity","deadline","pomodoros","_hoisted_4","pomodoro","giorno","tempoStudio","tempoPausa","ripetizioni","_hoisted_5"],"sources":["/home/massi1/Documenti/uni/tecWEB/progettoClone/progettoTWvue/frontend/src/views/eventDayCalendar.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>Eventi, Attività e Pomodori per {{ formatDate(queryDate) }}</h2>\n    <div class=\"button-container\">\n      <button @click=\"navigateToAddEvent\">Aggiungi Evento</button>\n      <button @click=\"navigateToAddActivity\">Aggiungi Attività</button>\n      <button @click=\"navigateToAddPomodoro\">Aggiungi Pomodoro</button>\n    </div>\n    <div v-if=\"events.length > 0\">\n      <h3>Eventi:</h3>\n      <div v-for=\"event in events\" :key=\"event._id\">\n        <h4>{{ event.title }}</h4>\n        <p>Data: {{ formatDate(event.date) }}</p>\n        <p>Descrizione: {{ event.description }}</p>\n      </div>\n    </div>\n\n    <div v-if=\"activities.length > 0\">\n      <h3>Attività:</h3>\n      <div v-for=\"activity in activities\" :key=\"activity._id\">\n        <h4>{{ activity.title }}</h4>\n        <p>Data: {{ formatDate(activity.deadline || activity.date) }}</p>\n        <p>Descrizione: {{ activity.description }}</p>\n      </div>\n    </div>\n\n    <div v-if=\"pomodoros.length > 0\">\n      <h3>Pomodori:</h3>\n      <div v-for=\"pomodoro in pomodoros\" :key=\"pomodoro._id\">\n        <h4>Pomodoro Sessione</h4>\n        <p>Data: {{ formatDate(pomodoro.giorno) }}</p>\n        <p>Tempo di studio: {{ pomodoro.tempoStudio }} minuti</p>\n        <p>Tempo di pausa: {{ pomodoro.tempoPausa }} minuti</p>\n        <p>Ripetizioni: {{ pomodoro.ripetizioni }}</p>\n      </div>\n    </div>\n\n    <div v-if=\"events.length === 0 && activities.length === 0 && pomodoros.length === 0\">\n      <p>Nessun evento o attività o pomodoro per questa data.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport axios from 'axios';\n\nexport default {\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const events = ref([]);\n    const activities = ref([]);\n    const pomodoros = ref([]); \n    const queryDate = computed(() => route.query.date);\n\n    const navigateToAddEvent = () => {\n      router.push({ path: '/addEvent', query: { date: queryDate.value } });\n    };\n\n    const navigateToAddActivity = () => {\n      router.push({ path: '/addActivities', query: { date: queryDate.value } });\n    };\n\n    const navigateToAddPomodoro = () => {\n      router.push({ path: '/pomodoroTempo', query: { date: queryDate.value } });\n    };\n\n    const fetchEvents = async () => {\n      try {\n        const author = route.query.author;\n        const date = route.query.date;\n        // mi serve per il pomodoro\n        const username = route.query.username || author;\n\n        const token = sessionStorage.getItem('token');\n        console.log('Fetching events for:', author, date);\n\n        const response = await axios.get('/api/events/by-date', {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { author, date }\n        });\n        events.value = Array.isArray(response.data) ? response.data : [response.data];\n        console.log('Fetched events:', events.value);\n\n        const activityResponse = await axios.get('/api/activities/by-date', {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { author, date }\n        });\n        activities.value = Array.isArray(activityResponse.data) ? activityResponse.data : [activityResponse.data];\n        console.log('Fetched activities:', activities.value);\n\n        const pomodoroResponse = await axios.get('/api/poms/by-date', {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { username, date }\n        });\n\n        console.log('Pomodori recuperati:', pomodoroResponse.data);\n\n        pomodoros.value = Array.isArray(pomodoroResponse.data) ? pomodoroResponse.data : [pomodoroResponse.data];\n        console.log('Fetched pomodoros:', pomodoros.value);\n\n      } catch (error) {\n        console.error('Errore nel recupero degli eventi, delle attività e dei pomodori:', error);\n      }\n    };\n\n    const formatDate = (dateString) => {\n      if (!dateString) return 'Data non disponibile';\n      const date = new Date(dateString);\n      return date instanceof Date && !isNaN(date)\n        ? date.toLocaleDateString('it-IT', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          })\n        : 'Data non valida';\n    };\n\n    onMounted(fetchEvents);\n\n    return {\n      events,\n      activities,\n      pomodoros, \n      formatDate,\n      queryDate,\n      navigateToAddEvent,\n      navigateToAddActivity,\n      navigateToAddPomodoro\n    };\n  }\n};\n</script>\n\n<style scoped>\n.button-container {\n  margin-bottom: 20px;\n}\n\nbutton {\n  margin-right: 10px;\n  padding: 8px 16px;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #45a049;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}